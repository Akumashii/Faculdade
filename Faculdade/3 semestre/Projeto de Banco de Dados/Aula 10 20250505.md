atividades em aula

saber fazer alterações em tabela

na criação de tabelas à mão é importante fazer primeiro as tabelas sem dependência de outras

estudando o insert e update

saída:
	![[Pasted image 20250505110455.png]]

```
-- para listar as tabelas da base de dados ou esquema de dados
show databases;

-- para usar ou invocar uma base de dados ou esquema de dados
use sys;

-- para listar as tabelas da base de dados ou esquema de dados
show tables;

drop database livraria;
-- comando para criar base de dados ou esquema de dados
create database livraria;
show databases;
use livraria;

-- criar tabelas: nome, atributos/tipos, restrições (chave primária e/ou chave estrangeira)

create table Autor(
	idAutor INT AUTO_INCREMENT,
    PRIMARY KEY (idAutor),
	nome VARCHAR(150) NOT NULL,
    nacionalidade VARCHAR(40) NOT NULL,
    biografia VARCHAR(500)
);

create table Categoria(
	idCategoria INT AUTO_INCREMENT,
    descricao VARCHAR(50) NOT NULL,
    titulo VARCHAR(100) NOT NULL,
    PRIMARY KEY (idCategoria)
);

create table Editor(
	idEditor INT AUTO_INCREMENT,
    PRIMARY KEY (idEditor),
    nome VARCHAR(100) NOT NULL,
    cnpj VARCHAR(18) NOT NULL,
    cidade VARCHAR(45) NOT NULL,
    pais VARCHAR(45) NOT NULL
);

create table Transportadora(
	idTransportadora INT AUTO_INCREMENT,
    nome VARCHAR(45) NOT NULL,
    cnpj VARCHAR(18) NOT NULL,
    cep VARCHAR(8) NOT NULL,
    PRIMARY KEY (idTransportadora)
);

create table Cliente(
	idCliente INT AUTO_INCREMENT,
    nome VARCHAR(45) NOT NULL,
    tipo VARCHAR(20) NOT NULL,
    cpf VARCHAR(14),
    cnpj VARCHAR(18),
    cep VARCHAR(9) NOT NULL,
    PRIMARY KEY (idCliente),
    INDEX idx_nome_asc (nome ASC)
);

create table Livro(
	idLivro INT AUTO_INCREMENT,
    idEditor INT NOT NULL,
    titulo VARCHAR(150) NOT NULL,
    descritivo VARCHAR(100),
    ano DATE NOT NULL,
    preco DECIMAL NOT NULL,
    PRIMARY KEY (idLivro),
    FOREIGN KEY (idEditor) REFERENCES Editor(idEditor)
);

create table Venda(
	idLivro INT NOT NULL,	
    idCliente INT NOT NULL,
    numeroNotaFiscal INT NOT NULL,
    dataHora DATETIME NOT NULL,
    valorTotal FLOAT NOT NULL,
    PRIMARY KEY (numeroNotaFiscal),
    FOREIGN KEY (idLivro) REFERENCES Livro(idLivro),
    FOREIGN KEY (idCliente) REFERENCES Cliente(idCliente)
);

create table Entrega(
	numeroNotaFiscal INT NOT NULL,
    idTransportadora INT NOT NULL,
    numeroProtocolo INT NOT NULL AUTO_INCREMENT,
	FOREIGN KEY (numeroNotaFiscal) REFERENCES Venda(numeroNotaFiscal),
    FOREIGN KEY (idTransportadora) REFERENCES Transportadora(idTransportadora),
    PRIMARY KEY (numeroProtocolo)
);

create table LivroAutor(
	idLivro INT NOT NULL,
    idAutor INT NOT NULL,
    idLivroAutor INT AUTO_INCREMENT,	
    FOREIGN KEY (idLivro) REFERENCES Livro(idLivro),
    FOREIGN KEY (idAutor) REFERENCES Autor(idAutor),
    PRIMARY KEY (idLivroAutor)
);

create table LivroCategoria(
	idLivro INT NOT NULL,
    idCategoria INT NOT NULL,
    idLivroCategoria INT AUTO_INCREMENT,
	FOREIGN KEY (idLivro) REFERENCES Livro(idLivro),
    FOREIGN KEY (idCategoria) REFERENCES Categoria(idCategoria),
    PRIMARY KEY (idLivroCategoria)
);

show tables;

alter table Autor add nomeFantasia VARCHAR(45);
alter table Entrega add meioEntrega VARCHAR(45) NOT NULL;
alter table Autor modify  column biografia VARCHAR(1000) NOT NULL;

show tables;

INSERT INTO Cliente (idCliente, nome, tipo, cpf, cnpj, cep) 
VALUES (1, "Frazzon", "Físico", "05810776019", null ,"97015190");

INSERT INTO Cliente (idCliente, nome, tipo, cpf, cnpj, cep) 
VALUES (2, "Luiza", "Físico", "999999999", null ,"9999999");

INSERT INTO Cliente (idCliente, nome, tipo, cpf, cnpj, cep) 
VALUES (3, "Ana", "Físico", "77777777", null ,"777777777");

UPDATE Cliente
SET nome = "Legal Frazzon"
WHERE idCliente = 1;

select * from Cliente;

-- alterar algumas tabelas
-- na tabela autor adicione um campo chamado nomeFantasia para autores que não utilizam nome verdadeiro
-- na tabela entrega um atributo chamado meioEntrega (terrestre, áereo, marítimo)
-- na tabela autor modificar o atributo biografia que suporte 1000 caracteres
```