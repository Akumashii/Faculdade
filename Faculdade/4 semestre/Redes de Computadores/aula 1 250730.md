# Plano de Ensino

![[Plano Ensino Redes de Computadores.pdf]]


# TCP-IP

TCP (Transfer Control Protocol), concorrente do UDP (User Datagram Protocol)
TCP garante a entrega de dados na ordem correta, já UDP não garante nem entrega nem ordem, ideal para transmissões ao vivo

# Fluxo de dados
cada camada recebe dados da camada superior
- acrescenta cabeçalho com informação para criar nova unidade de dados
- passa nova unidade de dados para a camada inferior

- **Camadas:**
	- aplicação 
	- transporte
	- rede
	- enlace
	- física
- **Cabeçalho:**
	permite remontar a mensagem novamente
	- mensagem 
	- segmento
	- datagram
	- quadro

## Protocolos
//imagem_slide
- Aplicação
	- Telnet, FTP, SMTP, SNMP...
- Transporte
	- TCP e UDP
- Rede (Inter-rede)
	- ICMP, ARP, RARP
- Enlace (Interface da Rede)
	- Protocolo de Quadro
- Física (Intra-rede)
	- Protocolo Físico

## Enlace - o suporte
é dividida em duas partes, uma que fala com a camada de baixo e outra que fala com a camada de cima. LLC e MAC.

- LLC (Logical Link Control) - Camada de cima
- MAC (Media Access Control) - Camada de baixo
	- é válido, é o mesmo, em todo lugar no mundo
	- são 6 duplas de hexadecimais (ff-ff-ff-ff-ff-ff)
		- as 3 primeiras indicam o fabricante
		- as outras 3 são número de série

subcamada de acesso ao meio - trata dos problemas e protocolos para acesso ao meio (ou canal) de comunicação em redes de difusão, onde múltiplos usuários (estações) tem de competir entre si para usar o meio de transmissão

os protocolos usados para determinar quem usa a rede na próxima vez

como controlar o acesso a um canal de transmissão compartilhado por N usuários?
## ALOCAÇÃO ESTÁTICA X ALOCAÇÃO DINÂMICA (de canais LANs e MANs)

a alocação estática é limitada, divide a banda passante (W) em N faixas, assim:
- problemas:
	- diminui a taxa de transmissão disponível para cada usuário (banda passante de cada usuário passa a ser W/N), logo a taxa de trnasmissão é menor
	- quando um usuário não transmite, o canal é desperdiçado (vai acontecer muito porque o tráfego típico em LAN/MAN é em rajada)

a alocação dinâmica, quem chega primeiro usa
- definições:
	- Modelo de Estações (Station Model): N estações independentes, cada uma com um programa/usuário gerando quadros para transmissão
	- Presunção de Canal Único (Single Channel .....
	- Presunção de Colisão .....

Colisão, é um evento que ocorre frequentemente nas redes, no qual dois computadores tentam enviar informações no mesmo instante. As colisões são normais no funcionamento de uma rede. Entretanto se forem muito frequentes, o desempenho da rede será prejudicado.
A física clássica afirma que dois corpos não podem dividir o mesmo espaço, dito isso, existe colisão de dados, de bits.

sobre protocolos de acesso múltiplo, é como se fosse uma conversa educada

o tratamento de colisão é feito usando-se o Algoritmo Binary Exponential Backoff (recuo binário exponencial)
- ínicio
	- **fatia-de-tempo = tempo de 1 quadro percorrer o cabeamento**
	- transmissão
	- enquanto houver colisão, ínicio
		- 1º colisão, espera 0 ou 1 fatia-de-tempo
		- 2º colisão, espera 0, 1, 2 ou 3 fatia-de-tempo
		- 3º colisão, espera 0, 1, ..., 7 fatia-de-tempo
		- Nº colisão, espera 0, 1, ..., $2^N$ - 1 

---
# Transmissão de dados
- Tempo Contínuo
	- um quadro pode ser transmitido a qualquer tempo. Não existem um relógio mestre dividindo o mtepo em intervalos discretos(fatias)
- Tempo Fatiado
	- um quadro só pode ser transmitido em uma fatia de tempo. Uma fatia de tempo pode conter 0, 1 ou mais quadros, indicando uma fatia vazia, com um quadro ou colisão, respectivamente
- com Teste de Portadora(transmissão)
	- posso escutar a rede para saber se já está transmitindo,
	- uma estação pode testar se o canal está livre para, somente nesse caso, iniciar sua transmissão
- sem Teste de Portadora
	- uma estação não pode testar se o canal está livre

## ALOHA 1970
um dos primeiros protocolos a ser desenvolvido, princípio de funcionamento de uma estação que quer transmitir um quadro:
- estação:
	- transmite quadro
	- escuta o canal para receber o quadro que ela mesmo enviou
	- se não receber, houve colisão. Espera um tempo (fatia-de-tempo)
eficiência: 18%
## ALOHA fatiado 1972
eficiência: 36%
## CSMA - Carrier Sense Multiple Access (1-persistente)
Princípio de funcionamento de uma estação que quer transmitir um quadro:
- estação testa o canal para ver se está livre
- se estiver ocupado, aguarda ficar livre testando continuamente
- o restante do comportamento é igual ao ALOHA
eficiência: 50%
## CSMA - Carrier Sense Multiple Access (não persistente)
primeiro escuta a rede, se estiver ocupadom aguarda um tempo aleatório crescente antes de tentar de novo
eficiência: 85%
## CSMACD - Carrier Sense Multiple Access Collision Detection
Ideia: além de não inicar a transmissão com o canal ocupado, interrompe uma transmissão tão logo seja detectada colisão
Quando ocorre colisão, aguarda um tempo aleatório crescente para retransmitir

é a BASE do IEEE 802.3 atual (protocolo Ethernet)

---
# Camada de Rede
### Routing (algoritmo de roteamento)
A escolha do caminho tomado pelos pacotes da origem até o destino
### Switching (comutação)
**comutador = switch**
Comutar os pacotes da interface de entrada para a interface de saída Diminui colisões.

switch - sabe qual o destino do pacote e envia somente para ele (comutar)
hub - manda pra todo mundo e quem identificar o pacote pega
### Call Setup (estabelecimento de circuito)
Algumas arquiteturas de rede requerem que os routers estabeleçam um circuito virtual antes de os hosts poderem se comunicar

## Datagrama IP
- **versão IP**
- **comprimento cabeçario** (bytes)
- **comprimento total do datagrama** (bytes)
- **tipo de serviço** - "tipo" dos dados (DS)
- para fragmentação/remontagem
	- **ident. 16 bits**
	- **bit**
	- **início do fragmento** 
- **sobre-vida**
	- número máximo de enlaces restantes (decrementado a cada roteador)
- **camada superior**
	- protocolo da camada superior ao qual entregar os dados
- **checksum internet**
- **endereço IP origem 32 bit**
- **endereço IP destino 32 bit**
- **opções** (se tiver)
	- ex. temporizador, registrar rota seguida, especificar lista de roteadores.
- **dados** (comprimento váriavel. tipicamente um segmento de TCP ou UDP)
# Endereço IP
Um endereço de IP não identifica um computador específico. Pelo contrário, cada endereço de IP identifica uma conexão entre um computador e uma rede
Um computador com conexões de rede múltiplas (por exemplo, routter), deve ser atribuído um endereço IP para cada conexão

há dois tipos, IP válido e IP inválido.

IP válido pode navegar na internet
existe IPs inválidos que NÃO podem navegar na internet

**endereço IP é único por placa de rede, IP não é único por computador.**

## Características
.
.
.
.
.
- vitual
	- somente reconhecido por software
- utilizado por toda a comunidade numa rede de interconexão
- dividido em duas partes
	- prefixo identifica a rede
	- sufixo identifica o computador/interface
	ex. 172.25.2.212
		(172.25.2) REDE
		(.212) HOST
- autoridade global atribuiu um prefixo distindo para a rede
	- Brasil: 200, 201
- administrador local atribui sufixo distinto para o computador/interface

## Classes 
um endereço de IP (v4) possui 32 bits (4Bytes). 
quantidade representativa de bits:
_ _ _ _ _ _ _ _ . _ _ _ _ _ _ _ _ . _ _ _ _ _ _ _ _ . _ _ _ _ _ _ _ _ 
0.0.0.0 até 255.255.255.255
Está dividido em dois grupos: endereço de rede e endereço de host de acordo com sua classe

Há 5 tipos de classe: A, B, C, D e E
- Classe A:
	- 0 + 1/4 rede e 3/4 máquina
- Classe B: 
	- 10 + 2/4 rede e 2/4 máquina
- Classe C: 
	- 110 + 3/4 rede e 1/4 máquina
- Classe D: 
	- 1110 + (...) 
	- multicast, transmissão de um-para-muitos
- Classe E: 
	- 11110 + (...) 
	- reservado para uso futuro, seja pesquisa ou novas tecnologias

Tudo é endereço? As máquinas todas conseguem se enxegar? 
não, as máquinas hosts podem exergar apenas seus vizinhos. Para que se vejam entre as vizinhanças, é necessário que existam roteadores e rotas

## Subnets
uma sub-rede!! existe muita possibilidade de hosts vizinhos e uma rede com tanto vizinhos simplesmente não funcionaria, cria-se então sub-redes!

# gelsa
és legal
